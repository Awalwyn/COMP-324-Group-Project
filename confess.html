<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Unburdening</title>
  <link rel="stylesheet" href="confess.css" />
</head>

<body>
  <!-- Intro Popup Markup -->
  <section id="introPopup" class="intro-popup hidden" role="dialog" aria-modal="true" aria-labelledby="popupTitle">
    <div class="intro-content">
      <h2 id="popupTitle">Welcome to The Unburdening</h2>
      <p>
        Here you can anonymously ‚Äúburn‚Äù your thoughts away.
        Type or speak your message, hit Burn, and watch it vanish in flames.
      </p>
      <button id="introCloseBtn" aria-label="Close introduction popup">Got it!</button>
    </div>
  </section>

  <!-- Navigation -->
  <nav class="about-link" aria-label="Main Navigation">
    <a href="home.html" class="fire-button">Home</a>
  </nav>

  <!-- Confession counter -->
  <header>
    <div id="confessionCounter" aria-live="polite">
      Burnt Confessions: <span id="counter">0</span>
    </div>
    <h1 class="title">Burn Confessions</h1>
  </header>

  <!-- Quick‚ÄëIntro Trigger -->
  <section class="intro-notice">
    <a href="#" id="introTrigger">New here? Quick guide</a>
  </section>

  <!-- Message box and form -->
  <main>
    <form id="confessionForm" class="message-box" aria-labelledby="messageLabel">
      <textarea id="messageInput" placeholder="Confess here..." required aria-required="true"></textarea>
      <span id="error-msg" role="alert" style="display:none; color: red;">Please enter a message.</span>

      <div class="button-row">
        <button type="submit" class="send-btn">Burn</button>

        <div class="mic-group">
          <button id="mic-btn" type="button" aria-label="Start voice input">üé§</button>
          <div class="language-selector">
            <label for="languageSelect">üåê Language:</label>
            <select id="languageSelect" aria-label="Select language">
              <option value="en-US">English</option>
              <option value="fr-FR">Fran√ßais</option>
              <option value="hi-IN">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
              <option value="es-ES">Espa√±ol</option>
              <option value="ar-SA">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
            </select>
          </div>
        </div>
      </div>
    </form>
  </main>

  <!-- Visual Elements -->
  <div class="screen-glow" aria-hidden="true"></div>
  <div class="fire-animation" aria-hidden="true"></div>

  <!-- External JS -->
  <script>
    // Basic form validation
    document.getElementById("confessionForm").addEventListener("submit", function (e) {
      const msg = document.getElementById("messageInput").value.trim();
      const errorMsg = document.getElementById("error-msg");
      if (!msg) {
        e.preventDefault();
        errorMsg.style.display = "block";
      } else {
        errorMsg.style.display = "none";
      }
    });
  </script>
  <script src="confess.js"></script>
</body>

</html>
